{"version":3,"sources":["webpack:///./src/utils/useLatestData.js","webpack:///./src/styles/Grids.js","webpack:///./src/components/LoadingGrid.js","webpack:///./src/components/ItemGrid.js","webpack:///./src/pages/index.js"],"names":["gql","String","raw","HomePageGrid","styled","div","withConfig","displayName","componentId","ItemsGrid","ItemStyles","LoadingGrid","_ref","count","React","createElement","Array","from","length","_","i","className","src","alt","width","height","ItemGrid","items","map","item","name","image","asset","url","style","background","metadata","lqip","backgroundSize","CurrentlySlicing","slicemasters","console","log","HotSlices","_ref2","hotSlices","HomePage","_useLatestData","_useState","useState","setHotSlices","_useState2","setSlicemasters","useEffect","fetch","process","method","headers","body","JSON","stringify","query","_templateObject","_taggedTemplateLiteralLoose","then","res","json","data","StoreSettings","catch","err","useLatestData","Fragment","SEO","title"],"mappings":"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","file":"component---src-pages-index-js-627f2a99c1320a9ca03b.js","sourcesContent":["import { useEffect, useState } from 'react';\n\nconst gql = String.raw;\n\n// custom hook to pull data directly from sanity graphql endpoint from client\nexport default function useLatestData() {\n  // hot slices\n  const [hotSlices, setHotSlices] = useState();\n  // slicemasters\n  const [slicemasters, setSlicemasters] = useState();\n  // use a side effect to fetch the data from the graphql endpoint\n  useEffect(function () {\n    // when the component loads, fetch the data\n    fetch(process.env.GATSBY_GRAPHQL_ENDPOINT, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        query: gql`\n          query {\n            StoreSettings(id: \"downtown\") {\n              name\n              slicemasters {\n                name\n                _id\n                image {\n                  asset {\n                    url\n                    metadata {\n                      lqip\n                    }\n                  }\n                }\n              }\n              hotSlices {\n                name\n                _id\n                image {\n                  asset {\n                    url\n                    metadata {\n                      lqip\n                    }\n                  }\n                }\n              }\n            }\n          }\n        `,\n      }),\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        // TODO: check for errors\n        // set the data to state\n        setHotSlices(res.data.StoreSettings.hotSlices);\n        setSlicemasters(res.data.StoreSettings.slicemasters);\n      })\n      .catch((err) => {\n        console.log('SHoooooot!');\n        console.log(err);\n      });\n  }, []);\n  return {\n    hotSlices,\n    slicemasters,\n  };\n}\n","import styled from 'styled-components';\n\nexport const HomePageGrid = styled.div`\n  display: grid;\n  gap: 2rem;\n  grid-template-columns: repeat(2, minmax(auto, 1fr));\n`;\n\nexport const ItemsGrid = styled.div`\n  display: grid;\n  gap: 2rem;\n  grid-template-columns: 1fr 1fr;\n`;\n\n// Single Grid Item (for home page)\nexport const ItemStyles = styled.div`\n  text-align: center;\n  position: relative;\n  img {\n    height: auto;\n    font-size: 0;\n  }\n  p {\n    transform: rotate(-2deg) translateY(-140%);\n    position: absolute;\n    width: 100%;\n    left: 0;\n  }\n  .mark {\n    display: inline;\n  }\n  @keyframes shine {\n    from {\n      background-position: 200%;\n    }\n    to {\n      background-position: -40px;\n    }\n  }\n  img.loading {\n    --shine: white;\n    --background: var(--grey);\n    background-image: linear-gradient(\n      90deg,\n      var(--background) 0px,\n      var(--shine) 40px,\n      var(--background) 80px\n    );\n    background-size: 500px;\n    animation: shine 1s infinite linear;\n  }\n`;\n","import React from 'react';\nimport { ItemStyles, ItemsGrid } from '../styles/Grids';\n\nexport default function LoadingGrid({ count }) {\n  return (\n    <ItemsGrid>\n      {Array.from({ length: count }, (_, i) => (\n        <ItemStyles>\n          <p>\n            <span className=\"mark\">Loading...</span>\n          </p>\n          <img\n            src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAECAQAAADsOj3LAAAADklEQVR42mNkgANGQkwAAJoABWH6GPAAAAAASUVORK5CYII=\"\n            className=\"loading\"\n            alt=\"Loading\"\n            width=\"500\"\n            height=\"400\"\n          />\n        </ItemStyles>\n      ))}\n    </ItemsGrid>\n  );\n}\n","import React from 'react';\nimport { ItemStyles, ItemsGrid } from '../styles/Grids';\n\nexport default function ItemGrid({ items }) {\n  return (\n    <ItemsGrid>\n      {items.map((item) => (\n        <ItemStyles>\n          <p>\n            <span className=\"mark\">{item.name}</span>\n          </p>\n          <img\n            width=\"500\"\n            height=\"400\"\n            src={`${item.image.asset.url}?w=500&h=400&fit=crop`}\n            alt={item.name}\n            style={{\n              background: `url(${item.image.asset.metadata.lqip})`,\n              backgroundSize: 'cover',\n            }}\n          />\n        </ItemStyles>\n      ))}\n    </ItemsGrid>\n  );\n}\n","import React from 'react';\nimport SEO from '../components/SEO';\nimport useLatestData from '../utils/useLatestData';\nimport { HomePageGrid } from '../styles/Grids';\nimport LoadingGrid from '../components/LoadingGrid';\nimport ItemGrid from '../components/ItemGrid';\n\nfunction CurrentlySlicing({ slicemasters }) {\n  console.log(slicemasters);\n  return (\n    <div>\n      <h2 className=\"center\">\n        <span className=\"mark tilt\">Slicemasters</span>\n      </h2>\n      <p> Ready to slice you up!</p>\n      {!slicemasters && <LoadingGrid count={4} />}\n      {slicemasters && !slicemasters?.length && (\n        <p>No one is working right now!</p>\n      )}\n      {slicemasters?.length && <ItemGrid items={slicemasters} />}\n    </div>\n  );\n}\n\nfunction HotSlices({ hotSlices }) {\n  return (\n    <div>\n      <h2 className=\"center\">\n        <span className=\"mark tilt\">HotSlices</span>\n      </h2>\n      <p>Standing by, ready to slice one up for you!</p>\n      {!hotSlices && <LoadingGrid count={4} />}\n      {hotSlices && !hotSlices?.length && <p>No pizzas available right now!</p>}\n      {hotSlices?.length && <ItemGrid items={hotSlices} />}\n    </div>\n  );\n}\n\nexport default function HomePage() {\n  const { slicemasters, hotSlices } = useLatestData();\n  return (\n    <>\n      <SEO title=\"Home\" />\n      <div className=\"center\">\n        <h1>The Best Pizza In Silver Spring</h1>\n        <p>Open 11am to 11pm Every Single Day</p>\n        <HomePageGrid>\n          <CurrentlySlicing slicemasters={slicemasters} />\n          <HotSlices hotSlices={hotSlices} />\n        </HomePageGrid>\n      </div>\n    </>\n  );\n}\n"],"sourceRoot":""}